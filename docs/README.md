# ひきこもり支援 × AI 最適化プラットフォーム

## プロジェクト概要

本プロジェクトは、会話データとバイタルデータを統合し、AIによる個別最適化された支援を提供する、ひきこもり支援のためのデータドリブンなプラットフォームです。

### ビジョン

データドリブンな支援により、ひきこもり当事者一人ひとりに最適化された支援を提供し、社会復帰への道筋を明確化します。支援者・家族・当事者すべてが安心して利用できる、科学的根拠に基づく支援プラットフォームの構築を目指します。

### 主要な価値提案

- **客観的評価**: 主観評価の限界を克服し、バイタルデータによる客観的な評価を実現
- **科学的根拠**: 会話×バイタル×支援事例を統合したAI分析による支援最適化
- **支援継続率向上**: 6ヶ月継続率70%以上を目標（現在推定50%から向上）
- **期間短縮**: 社会復帰までの期間を平均2年短縮（5年→3年）

## クイックスタート

### 前提条件

- Node.js 18以上
- pnpm（推奨）、npm、またはyarn
- OpenAI APIキー（個別支援計画のGPT連携機能を使用する場合）

### インストール

```bash
# リポジトリのクローン
git clone [repository-url]
cd WARP-004-022

# 依存パッケージのインストール
pnpm install

# 環境変数の設定
cp .env.example .env.local
# .env.localを編集してOpenAI APIキーを設定

# 開発サーバーの起動
pnpm dev
```

アプリケーションは `http://localhost:3000` で起動します。

### GPT連携機能の設定

個別支援計画のGPT連携機能を使用する場合は、[セットアップガイド](./support-plan-gpt-setup.md)を参照してください。

### テストアカウント

現在はモック認証を使用しています：

- **支援者アカウント**: `supporter@example.com` / `password123`
- **管理者アカウント**: `admin@example.com` / `password123`

## プロジェクト構成

```
WARP-004-022/
├── app/                      # Next.js App Router
│   ├── dashboard/           # ダッシュボード関連ページ
│   │   ├── activity/       # 活動量データ
│   │   ├── analysis/       # データ統合分析
│   │   ├── autonomic/      # 自律神経解析
│   │   ├── conversation/   # 会話データ
│   │   ├── import/         # データインポート
│   │   └── sleep/          # 睡眠データ
│   ├── login/              # ログイン
│   └── page.tsx            # ルートページ
├── components/              # Reactコンポーネント
│   ├── analysis/           # 分析機能
│   ├── auth/               # 認証機能
│   ├── conversation/       # 会話データ収集
│   ├── dashboard/          # ダッシュボード
│   ├── import/             # データインポート
│   ├── vital/              # バイタルデータ
│   └── ui/                 # UIコンポーネント（Shadcn UI）
├── lib/                     # ユーティリティとモックデータ
│   ├── mock-analysis.ts    # 分析機能モック
│   ├── mock-auth.ts        # 認証モック
│   ├── mock-conversation.ts # 会話データモック
│   ├── mock-vital.ts       # バイタルデータモック
│   └── utils.ts            # ユーティリティ関数
├── docs/                    # ドキュメント
│   ├── README.md           # 本ファイル
│   ├── overview.md         # アーキテクチャとポリシー
│   ├── status.md           # 機能実装状況
│   ├── input/              # 入力要件
│   └── requirements_specification.md  # 要件定義書
└── public/                  # 静的ファイル
```

## 技術スタック

### フロントエンド

- **フレームワーク**: Next.js 15.2.4 (App Router)
- **言語**: TypeScript 5
- **UIライブラリ**: React 19
- **スタイリング**: Tailwind CSS 4.1.9
- **UIコンポーネント**: Shadcn UI + Radix UI
- **チャート**: Recharts
- **フォーム**: React Hook Form + Zod
- **テーマ**: next-themes（ダークモード対応）

### 開発ツール

- **パッケージマネージャー**: pnpm
- **リンター**: ESLint
- **型チェック**: TypeScript

### デプロイ・インフラ（予定）

- **ホスティング**: **Vercel** ✅ 選定済み
- **データベース**: **Vercel Postgres** + Prisma ORM ✅ 選定済み
- **認証**: **Auth0** ✅ 選定済み
- **AI/ML**: OpenAI GPT-4, Vercel AI SDK（予定）
- **バイタルデータ**: Fitbit Web API（予定）
- **音声認識**: Azure Speech Services（予定）

## 主要機能

### 実装済み（Phase 1 完了）

- ✅ **ユーザー認証**: ログイン・権限管理（モック実装）
- ✅ **ダッシュボード**: 支援活動の概要と主要指標の可視化
- ✅ **会話データ収集**: 会話録音・履歴・分析機能のUI
- ✅ **バイタルデータ収集**: 心拍・活動量・睡眠・自律神経データのUI
- ✅ **データ統合・分析**: 会話×バイタル×支援事例の統合分析UI
- ✅ **データインポート**: 福祉施設からの既存データインポート機能
- ✅ **データ可視化**: グラフ・チャートによる進捗表示

### 次フェーズ（Phase 2 - 2ヶ月以内開始、2名体制）

- ⏳ **データベース**: Vercel Postgres + Prisma ORM
- ⏳ **本番認証**: Auth0統合
- ⏳ **API Layer**: Next.js Server Actions
- ⏳ **データ永続化**: CRUD操作実装

### 将来実装（Phase 3-5）

- ⏳ **実API連携**: Fitbit API、Azure Speech Services、OpenAI GPT-4
- ⏳ **AI/ML分析**: 機械学習モデル、パターン分析
- ⏳ **本番運用**: Vercel Production環境、CI/CD
- ⏳ **PoC実証**: 半年後予定

### MVP対象外

- 🚫 **レポート生成**: 支援効果の定期レポート自動生成
- 🚫 **決済機能**: 家族直接支払い
- 🚫 **モバイルアプリ**: スマートフォンアプリ
- 🚫 **多言語対応**: 英語・中国語等（5年目以降）

## 開発ガイドライン

### コーディング規約

- **関数型・宣言的プログラミング**: クラスは避け、関数コンポーネントを使用
- **TypeScript優先**: `interface`を`type`より優先、enumは避けてmapを使用
- **命名規則**: 
  - ディレクトリ: ダッシュ付きの小文字（例: `auth-wizard`）
  - コンポーネント: 名前付きエクスポートを優先
  - 変数: 説明的な名前（例: `isLoading`, `hasError`）
- **UIスタイリング**: Tailwind CSS + Shadcn UI、モバイルファーストアプローチ
- **パフォーマンス**: Server Componentsを優先、`use client`の使用を最小限に

### ファイル構造

コンポーネントファイル内での推奨構造：

1. エクスポートされたコンポーネント
2. サブコンポーネント
3. ヘルパー関数
4. 静的コンテンツ
5. 型定義

## セキュリティとプライバシー

- **個人情報保護法準拠**: すべての個人情報は匿名統計データとして処理
- **データ匿名化**: 個人に紐づく情報は使用しない
- **HTTPS通信**: すべての通信を暗号化
- **アクセス制御**: ロールベースアクセス制御（RBAC）
- **監査ログ**: データアクセス履歴の保持（3年間）

## ビジネスモデル

### 収益構造

- **初期**: 自治体助成金（年間予算からの請求書払い）
- **将来**: 家族直接支払い（3ヶ月に1回5,000円）

### 主要KPI

- 当事者の支援継続率: 6ヶ月継続率70%以上
- 社会復帰までの期間短縮: 平均2年短縮（5年→3年）
- 利用施設数: 初年度2施設、年200%成長
- 顧客満足度: 支援者80%以上、家族75%以上

## 開発計画

### 確定事項 ✅

| 項目 | 決定内容 |
|------|---------|
| 認証プロバイダー | **Auth0** |
| クラウドプロバイダー | **Vercel** |
| データベース | **Vercel Postgres + Prisma ORM** |
| 開発体制 | **2名体制** |
| Phase 2 開始 | **2ヶ月以内** |
| PoC実証 | **半年後** |

### 開発スケジュール

```
現在 ─┬─ 2ヶ月 ─┬─ 2-3ヶ月 ─┬─ 3-4ヶ月 ─┬─ 1-2ヶ月 ─┬─ PoC
      │         │           │           │          │
   Phase 1   Phase 2     Phase 3     Phase 4    Phase 5  実証実験
   (完了)  (DB・認証)  (API連携)  (AI/ML)   (本番準備)  (半年後)
```

**累計期間**: 約8-11ヶ月でPoC実証準備完了予定

## ドキュメント

- [overview.md](./overview.md) - アーキテクチャとポリシーの詳細
- [status.md](./status.md) - 機能実装状況の可視化
- [requirements_specification.md](./requirements_specification.md) - 要件定義書
- [anonymization-policy.md](./anonymization-policy.md) - 匿名化ポリシー

## ライセンス

このプロジェクトはプライベートリポジトリです。

## お問い合わせ

プロジェクトに関するお問い合わせは、開発チームまでご連絡ください。

---

**最終更新**: 2024年1月  
**開発体制**: 2名  
**次マイルストーン**: Phase 2開始（2ヶ月以内）、PoC実証（半年後）

